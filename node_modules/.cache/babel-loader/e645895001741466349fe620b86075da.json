{"ast":null,"code":"var _jsxFileName = \"/Users/motri/react_project/vidly/src/components/movies.jsx\";\nimport React, { Component } from \"react\";\nimport { getMovies } from \"../services/fakeMovieService.js\";\nimport Like from \"./common/Like\";\nimport Heart from \"./symbol/Heart.jsx\";\n\nclass Movies extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      movies: getMovies()\n    };\n\n    this.handleDelete = movie => {\n      const moviesAfterDeletion = this.state.movies.filter(m => m._id !== movie._id);\n      this.setState({\n        movies: moviesAfterDeletion\n      });\n    };\n\n    this.handleReset = () => {\n      console.log(\"restore is clicked!!\");\n      this.setState({\n        movies: getMovies()\n      });\n    };\n\n    this.handleLike = movie => {\n      console.log(\"like is clicked\", movie);\n      const clonedMovies = [...this.state.movies]; //add new property for the called obj\n\n      clonedMovies.map(e => {\n        e[\"liked\"] = false;\n      });\n      const index = clonedMovies.indexOf(movie);\n      clonedMovies[index] = { ...clonedMovies[index]\n      };\n      clonedMovies[index].liked = !clonedMovies[index].liked;\n      console.log(\"index\", clonedMovies[index]);\n      console.log(\"new movies array\", clonedMovies);\n      this.setState({\n        clonedMovies\n      });\n    };\n  }\n\n  render() {\n    const {\n      length: size\n    } = this.state.movies;\n\n    if (size === 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 6\n        }\n      }, \"There are no movies left in the DB!\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => this.handleReset(),\n        className: \"btn-group-lg btn-sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 6\n        }\n      }, \"click here to restore DB!\"));\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 5\n      }\n    }, \"Showing \", size, \" movies in the DB\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 8\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 8\n      }\n    }, \"Genre\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 8\n      }\n    }, \"Stock\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 8\n      }\n    }, \"Rate\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 8\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 6\n      }\n    }, this.state.movies.map(movie => /*#__PURE__*/React.createElement(\"tr\", {\n      key: movie._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, movie.title), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, movie.genre.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, movie.numberInStock), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, movie.dailyRentalRate), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Like, {\n      liked: movie.liked,\n      onClick: () => this.handleLike(movie),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 10\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.handleDelete(movie),\n      className: \"btn btn-danger btn-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 10\n      }\n    }, \"Delete\")))))));\n  }\n\n}\n\nexport default Movies;","map":{"version":3,"sources":["/Users/motri/react_project/vidly/src/components/movies.jsx"],"names":["React","Component","getMovies","Like","Heart","Movies","state","movies","handleDelete","movie","moviesAfterDeletion","filter","m","_id","setState","handleReset","console","log","handleLike","clonedMovies","map","e","index","indexOf","liked","render","length","size","title","genre","name","numberInStock","dailyRentalRate"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { getMovies } from \"../services/fakeMovieService.js\";\nimport Like from \"./common/Like\";\nimport Heart from \"./symbol/Heart.jsx\";\n\nclass Movies extends Component {\n\tstate = {\n\t\tmovies: getMovies()\n\t};\n\thandleDelete = (movie) => {\n\t\tconst moviesAfterDeletion = this.state.movies.filter(\n\t\t\t(m) => m._id !== movie._id\n\t\t);\n\t\tthis.setState({ movies: moviesAfterDeletion });\n\t};\n\thandleReset = () => {\n\t\tconsole.log(\"restore is clicked!!\");\n\t\tthis.setState({ movies: getMovies() });\n\t};\n\thandleLike = (movie) => {\n\t\tconsole.log(\"like is clicked\", movie);\n\t\tconst clonedMovies = [...this.state.movies];\n\t\t//add new property for the called obj\n\t\tclonedMovies.map((e) => {\n\t\t\te[\"liked\"] = false;\n\t\t});\n\t\tconst index = clonedMovies.indexOf(movie);\n\t\tclonedMovies[index] = { ...clonedMovies[index] };\n\t\tclonedMovies[index].liked = !clonedMovies[index].liked;\n\t\tconsole.log(\"index\", clonedMovies[index]);\n\n\t\tconsole.log(\"new movies array\", clonedMovies);\n\t\tthis.setState({ clonedMovies });\n\t};\n\trender() {\n\t\tconst { length: size } = this.state.movies;\n\n\t\tif (size === 0) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<p>There are no movies left in the DB!</p>\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={() => this.handleReset()}\n\t\t\t\t\t\tclassName='btn-group-lg btn-sm'>\n\t\t\t\t\t\tclick here to restore DB!\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<p>Showing {size} movies in the DB</p>\n\t\t\t\t<table className='table'>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Title</th>\n\t\t\t\t\t\t\t<th>Genre</th>\n\t\t\t\t\t\t\t<th>Stock</th>\n\t\t\t\t\t\t\t<th>Rate</th>\n\t\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{this.state.movies.map((movie) => (\n\t\t\t\t\t\t\t<tr key={movie._id}>\n\t\t\t\t\t\t\t\t<td>{movie.title}</td>\n\t\t\t\t\t\t\t\t<td>{movie.genre.name}</td>\n\t\t\t\t\t\t\t\t<td>{movie.numberInStock}</td>\n\t\t\t\t\t\t\t\t<td>{movie.dailyRentalRate}</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<Like\n\t\t\t\t\t\t\t\t\t\tliked={movie.liked}\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleLike(movie)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleDelete(movie)}\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'>\n\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default Movies;\n"]},"metadata":{},"sourceType":"module"}